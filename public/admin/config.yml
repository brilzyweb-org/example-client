backend:
  name: gitea
  repo: sergius/example-client
  branch: main
  base_url: https://git.brilzy.com
  api_root: https://git.brilzy.com/api/v1
  auth_endpoint: /login/oauth/authorize
  # Client ID из Gitea OAuth2 Application.
  # Redirect URI должен быть: https://webpreneurstudio.com/admin/
  app_id: 507f93a2-2195-4ae0-8b2c-8aa32a69463d

# ВАЖНО: media_folder НЕ используется для реального хранения файлов
# Все изображения хранятся в R2 bucket через кастомный media library
# media_folder нужен только для совместимости с Decap CMS, но файлы туда НЕ сохраняются
media_folder: "uploads"
# public_folder используется для формирования URL при отображении
# Но реальные файлы находятся в R2: https://media.brilzy.com/{projectId}/images/{file}
public_folder: "https://media.brilzy.com"

# Кастомный Media Library для R2
# Перехватывает ВСЕ операции с изображениями и перенаправляет их на R2
# Файлы НЕ сохраняются в Git репозиторий
media_library:
  name: r2
  config:
    apiKey: "FINLAND_SUPER_SECRET_2026"

collections:
  - name: "site_content"
    label: "Контент сайта"
    files:
      - name: "content"
        label: "content.json"
        file: "content.json"
        format: "json"
        fields:
          - label: "Site"
            name: "site"
            widget: "object"
            fields:
              # ВАЖНО: это системное поле. Клиент не должен его менять.
              # Синк привязывает сайт по repoName (sergius/example-client -> example-client),
              # так что даже ручная правка не "уведёт" контент в другой сайт.
              - label: "ID (system)"
                name: "id"
                widget: "hidden"
                default: "example-client"
              - label: "Title"
                name: "title"
                widget: "string"
              - label: "Description"
                name: "description"
                widget: "text"

          - label: "Pages"
            name: "pages"
            widget: "object"
            fields:
              - label: "Home"
                name: "home"
                widget: "object"
                fields:
                  - label: "Title"
                    name: "title"
                    widget: "string"
                  - label: "Content"
                    name: "content"
                    widget: "markdown"
                    buttons:
                      - bold
                      - italic
                      - link
                      - heading-one
                      - heading-two
                      - heading-three
                      - heading-four
                      - heading-five
                      - heading-six
                      - code
                      - quote
                      - bulleted-list
                      - numbered-list
                      - image
                    editor_components:
                      - image
              - label: "About"
                name: "about"
                widget: "object"
                fields:
                  - label: "Title"
                    name: "title"
                    widget: "string"
                  - label: "Content"
                    name: "content"
                    widget: "markdown"
                    buttons:
                      - bold
                      - italic
                      - link
                      - heading-one
                      - heading-two
                      - heading-three
                      - heading-four
                      - heading-five
                      - heading-six
                      - code
                      - quote
                      - bulleted-list
                      - numbered-list
                      - image
                    editor_components:
                      - image

          - label: "Posts"
            name: "posts"
            widget: "list"
            fields:
              - label: "Title"
                name: "title"
                widget: "string"
              - label: "Content"
                name: "content"
                widget: "markdown"
                buttons:
                  - bold
                  - italic
                  - link
                  - heading-one
                  - heading-two
                  - heading-three
                  - heading-four
                  - heading-five
                  - heading-six
                  - code
                  - quote
                  - bulleted-list
                  - numbered-list
                  - image
                editor_components:
                  - image

          - label: "Technologies"
            name: "technologies"
            widget: "list"
            fields:
              - label: "Name"
                name: "name"
                widget: "string"
              - label: "Description"
                name: "description"
                widget: "text"
                required: false
              - label: "Category"
                name: "category"
                widget: "string"
                required: false
              - label: "Icon"
                name: "icon"
                widget: "string"
                required: false
